<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles.css">
  <script src="script.js" defer></script>
  <title>Contact Us</title>
</head>
<body>
  <div class="fixed-bar">
    <a href="index.html" class="brand">Hanna & Pablo</a>
    <nav class="nav-links">
      <a href="information_faq.html">Information & FAQ</a>
      <a href="contact_us.html">Contact Us</a>
      <a href="gallery.html">Gallery</a>
    </nav>
  </div>

  <div class="container">
    <header>
      <h1>Contact Us</h1>
      <p>Feel free to reach out to us with any questions or comments.</p>
    </header>

    <div class="contact-form">
      <form action="https://formspree.io/f/xjvqnybg" method="POST" id="emailForm">
        <label for="guestName">Your Name:</label>
        <input type="text" id="guestName" name="guestName" required>
        
        <!-- Check button to trigger name check -->
        <button type="button" onclick="checkName()">Check</button>

        <!-- Display "Found you!" message in green text -->
        <p id="foundYouMessage"></p>

        <!-- Show/hide the "I will bring a plus one!" checkbox based on canBringPlusOne value -->
        <div id="bringPlusOneCheckbox" style="display: none;">
          <label>
            <input type="checkbox" id="bringPlusOne" name="bringPlusOne">
            I will bring a plus one!
          </label>
        </div>
        <div id ="message" style="display: none;">
            <label for="personalizedMessage">Personalized Message:</label>
            <textarea id="personalizedMessage" name="personalizedMessage" rows="4"></textarea>
        </div>


        <button type="submit" id="submitBtn" disabled>Submit</button>
      </form>
    </div>
  </div>

  <script>
    // Define the Guest object constructor
    function Guest(name, canBringPlusOne) {
      this.name = name;
      this.canBringPlusOne = canBringPlusOne;
    }

    // Dummy guest list for testing
    const guest1 = new Guest("Hanna Pettersson Nyman", true);
    const guest2 = new Guest("Pablo Ahava Pizarro", false);

    const guestList = [guest1, guest2];

    function checkName() {
      const guestName = document.getElementById('guestName').value;
      const bringPlusOneCheckbox = document.getElementById('bringPlusOneCheckbox');
      const foundYouMessage = document.getElementById('foundYouMessage');
      const personalizedMessage = document.getElementById('message');
      const submitButton = document.getElementById('submitBtn');

      // Search among the objects in guestList for a guest with the given name
      const foundGuest = guestList.find(guest => guest.name === guestName);

      if (foundGuest) {
        // Display "Found you!" message in green text
        foundYouMessage.style.color = 'green';
        foundYouMessage.textContent = 'Found you!';
  
        // Show/hide the "I will bring a plus one!" checkbox based on canBringPlusOne value
        if (foundGuest.canBringPlusOne) {
          bringPlusOneCheckbox.style.display = 'block';
        } else {
          bringPlusOneCheckbox.style.display = 'none';
        }

        personalizedMessage.style.display = 'block';
        submitButton.disabled = false;

      } else {
        // If the name is not found, display a message in red text
        foundYouMessage.style.color = 'red';
        foundYouMessage.textContent = 'Name not found in the guest list.';
  
        // Hide the "I will bring a plus one!" checkbox
        bringPlusOneCheckbox.style.display = 'none';
      }
    }
  </script>

</body>
</html>